<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Input Validator</title>
    <script src="./InputValidator.js"></script>
</head>

<body>
 
   <form id='testForm'>
    <input type='text' data-inputvalidator='text&&callback1&message5' id='one' placeholder="Enter text"><br><br>
    <input type='text' data-inputvalidator='email&message1&callback1&message5' id='two' placeholder="Enter email"><br><br>
    <input type='text' data-inputvalidator='digit&message2' id='three' placeholder="Enter numbers"><br><br>
    <input type='text' data-inputvalidator='password1&message3&message4' placeholder="Enter password"><br><br>
    <input type='text' data-inputvalidator='password2&message3&message4' placeholder="Enter password"><br><br><br>
    <input type='submit' value='Submit'>
   </form>
 
</body>

<script>

// callback function for testing
const testEmail = (email)=> {
  return false;
}

// instantiate Validator 
const inst = new Validator({
            scroll_to_input: true,
            scroll_behavior: 'smooth',
            error_message_display: true,
            custom_styles_change: {
                borderColor: 'red',
                borderRadius: '5px'
            },
            custom_styles_initial: {
                borderColor: 'grey'
            },
            error_messages: {
              message0: 'The field cannot be empty',
              message1: 'Not correct email format',
              message2: 'Not a number',
              message5: 'Toto je message z callback funkce',
              message3: 'Password minimal requirements not met',
              message4: 'Passwords dont match'
            },
            error_message_styles: {
              marginBottom: '5px',
              color: 'red'
            },
            callbacks: {
              callback1: testEmail
            }
    });

// add event listener on submitting the form
document.getElementById('testForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  // launch validation of all fields within the parent element (testForm) = return true if all field filled out, false if some field empty
  const result = inst.validateForm(document.getElementById('testForm'));  
  if(result) {
    alert('All fields filled out');
  }
  else {
    alert('NOT all fields filled out');
  }

});
  
</script>
</html>
